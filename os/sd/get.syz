# Gets a value from a particular SD card address and stores it in R8.
# The block data must have already been fetched.
# Arguments
#   0: Memory address

# SD address
push $arg.0
copy 2, 4
iosr $conf.PID.SD, 3

# Get instruction
push $conf.SD.GET
copy 2, 4
iosr $conf.PID.SD, 0

# Set jump address
push $lbl.lib_SD_get_loop
copy 2, 3

# Execute setmem
ioex $conf.PID.SD
:lib_SD_get_loop
iogr $conf.PID.SD
jne

# Place the value in R8
copy 4, 8
